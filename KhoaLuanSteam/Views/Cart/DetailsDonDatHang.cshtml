@{
    ViewBag.Title = "DetailsDonDatHang";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}
@model List<DoAn_MonHoc.ViewModels.ChiTietDDHViewModel>
@* <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet"> *@
<link rel="stylesheet" href="~/Css/StepBar.css" type="text/css" />

<!-- Breadcrumb Section Begin -->
    <section class="breadcrumb-section set-bg" data-setbg="/assets/ecommerce/img/breadcrumb.jpg">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="breadcrumb__text">
                        <h2>Chi Tiết Đơn Hàng</h2>
                        <div class="breadcrumb__option">
                            <a href="/">Trang Chủ</a>
                            <span>Chi Tiết Đơn Hàng</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Breadcrumb Section End -->
<div class="container">
<section class="step-wizard">
    @if (ViewBag.TinhTrang == "Xử lý")
    {
        <ul class="step-wizard-list">
            <li class="step-wizard-item current-item">
                <span class="progress-count">1</span>
                <span class="progress-label">Xử lý</span>
            </li>
            <li class="step-wizard-item">
                <span class="progress-count">2</span>
                <span class="progress-label">Đã đóng gói</span>
            </li>
            <li class="step-wizard-item">
                <span class="progress-count">3</span>
                <span class="progress-label">Đang giao hàng</span>
            </li>
            <li class="step-wizard-item">
                <span class="progress-count">4</span>
                <span class="progress-label">Giao hàng hoàn tất</span>
            </li>
        </ul>
    }
    else if (ViewBag.TinhTrang == "Đã đóng gói")
    {
        <ul class="step-wizard-list">
            <li class="step-wizard-item">
                <span class="progress-count">1</span>
                <span class="progress-label">Xử lý</span>
            </li>
            <li class="step-wizard-item current-item">
                <span class="progress-count">2</span>
                <span class="progress-label">Đã đóng gói</span>
            </li>
            <li class="step-wizard-item">
                <span class="progress-count">3</span>
                <span class="progress-label">Đang giao hàng</span>
            </li>
            <li class="step-wizard-item">
                <span class="progress-count">4</span>
                <span class="progress-label">Giao hàng hoàn tất</span>
            </li>
        </ul>
    }
    else if (ViewBag.TinhTrang == "Đang giao hàng")
    {
        <ul class="step-wizard-list">
            <li class="step-wizard-item">
                <span class="progress-count">1</span>
                <span class="progress-label">Xử lý</span>
            </li>
            <li class="step-wizard-item ">
                <span class="progress-count">2</span>
                <span class="progress-label">Đã đóng gói</span>
            </li>
            <li class="step-wizard-item current-item">
                <span class="progress-count">3</span>
                <span class="progress-label">Đang giao hàng</span>
            </li>
            <li class="step-wizard-item">
                <span class="progress-count">4</span>
                <span class="progress-label">Giao hàng hoàn tất</span>
            </li>
        </ul>
    }
    else
    {
        <ul class="step-wizard-list">
            <li class="step-wizard-item">
                <span class="progress-count ">1</span>
                <span class="progress-label">Xử lý</span>
            </li>
            <li class="step-wizard-item ">
                <span class="progress-count">2</span>
                <span class="progress-label">Đã đóng gói</span>
            </li>
            <li class="step-wizard-item">
                <span class="progress-count">3</span>
                <span class="progress-label">Đang giao hàng</span>
            </li>
            <li class="step-wizard-item current-item">
                <span class="progress-count">4</span>
                <span class="progress-label">Giao hàng hoàn tất</span>
            </li>
        </ul>
    }

</section>
<h3 class="pt-5">Trạng thái đơn hàng của bạn là : @ViewBag.TinhTrang</h3>
@* <table id="cart" class="table table-hover table-condensed">
    <thead>
        <tr>
            <th style="width:50%;font-size: 16px; font-weight: 700;" class="text-center">Sản phẩm</th>
            <th style="width:10%;font-size: 16px; font-weight: 700;" class="text-center">Giá</th>
            <th style="width:8%;font-size: 16px; font-weight: 700;" class="text-center">Số lượng</th>
            <th style="width:22%;font-size: 16px; font-weight: 700;" class="text-center">Thành tiền</th>
            <th style="width:10%;font-size: 16px; font-weight: 700;" class="text-center"></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td data-th="Product">
                    <div class="row">
                        <div class="col-sm-2 hidden-xs"><img src="~/HinhAnhSach/@item.HinhAnh" alt="@item.HinhAnh" class="img-responsive" style="width: 150px; height: auto; margin-left: 31px;" /></div>
                        <div class="col-sm-10">
                            <h4 class="nomargin" style="margin-left: 29%;font-size: 19px; font-weight: bold;">@item.TenSanPham</h4>
                        </div>
                    </div>
                </td>
                <td data-th="Price">
                    <span>
                        @item.Gia
                    </span>
                <td data-th="Quantity">
                    <input id="Quantity" type="text" class="txtQuantity" value="@item.SoLuong" readonly>
                </td>
                <td data-th="Subtotal" class="text-center">
                    <span>
                        @((item.Gia * item.SoLuong)) VND
                    </span>
                </td>

            </tr>
        }
    </tbody>
    <tfoot>

        <tr>
            <td class="hidden-xs text-center"><strong>Tổng cộng: @String.Format("{0:0,0}", ViewBag.Total) VND</strong></td>

        </tr>
    </tfoot>
</table> *@

<section class="shoping-cart spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="shoping__cart__table">
                        <table>
                            <thead>
                                <tr>
                                    <th class="shoping__product">Sản phẩm</th>
                                    <th>Giá</th>
                                    <th>Số lượng</th>
                                    <th>Thành tiền</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model)
                                {
                                    <tr>
                                        <td class="shoping__cart__item">
                                            <img style="width: 101px;" src="~/HinhAnhSach/@item.HinhAnh" alt="@item.HinhAnh">
                                            <h5>@item.TenSanPham</h5>
                                        </td>
                                        <td class="shoping__cart__price">
                                            @*@item.Gia đ*@
                                            @item.Gia.GetValueOrDefault(0).ToString("N0") đ
                                        </td>
                                        <td class="shoping__cart__quantity">
                                            <input type="number" style="border: none; text-align: center;" class="txtQuantity" readonly="readonly" value="@item.SoLuong">
                                        </td>
                                        <td class="shoping__cart__total">
                                            @((item.Gia * item.SoLuong).GetValueOrDefault(0).ToString("N0")) đ
                                        </td>
                                    </tr>
                                    
                                }
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td style="text-align: end;">Tổng cộng: </td>
                                    <td><strong>@String.Format("{0:0,0}", ViewBag.Total) đ</strong></td>
                                </tr>
                            </tbody>
                        </table>
                        @* <div class="col-12" style="text-align: end;">
                            <strong>Tổng cộng: @String.Format("{0:0,0}", ViewBag.Total) VND</strong>
                        </div> *@
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="shoping__cart__btns">
                        <a href="~/Cart/DonHang_KH" class="primary-btn cart-btn"><i class="fa fa-angle-left"></i> Trở về</a>
                    </div>
                </div>
                
            </div>
        </div>
    </section>


</div>

<style>
    .product-price {
        font-size: 13px;
        line-height: 1.5;
        color: #212529;
        font-weight: 100;
    }
</style>
